# 功能

- 需求分析
- 2024-12-23
- zuiyu1998

## 概述

next-im 的整体需求分析，满足一般 IM 系统的需求。

## 动机

学习 rust 和 Im 概念。

## 指南级别的解释

消息是 IM 系统中最重要的概念，整个 IM 系统就是要保证消息的传达。消息的传达由实时性、可靠性、有序性三个指标来衡量。

- 实时性
  用户 A 发送消息给用户 B,用户 B 可以及时收到，并且在下线状态可以保存一定时间的消息
- 可靠性
  用户不会重复收到同一消息。
- 有序性
  用户收到的消息和实际发送的消息保持一致。

## 参考级别解释

### IM 的实时性
一般Im的实时性分为两部分，对于在线用户，能够准确收到的其他用户发送的消息。对于离线用户，在上线时可以拉取最近时间内的所有消息。
### IM 的有序性
IM的有序性指多个客户端之间消息顺序保持一致，一般来说是不可能达到的。这里的有序性是指单个客户端之间的消息顺序保持一致。这里通常使用消息的本地时间排序来保持一致。
### IM 的可靠性
IM的可靠性指用户不会重复收到同一消息，这里通常使用消息的唯一id来保证。